(this["webpackJsonpreact-polar"]=this["webpackJsonpreact-polar"]||[]).push([[4],{411:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(77),r=a(1),o=a.n(r),l=(a(190),a(412)),i=a.n(l),s=function(e){e.input;var t=e.meta,a=Object(n.a)(e,["input","meta"]),r=t.touched&&t.error;return o.a.createElement("div",{className:r?i.a.error:""},o.a.createElement("div",null,a.children),r&&o.a.createElement("span",null,t.error))},c=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return o.a.createElement(s,e,o.a.createElement("textarea",Object.assign({},t,a)))}},412:function(e,t,a){e.exports={error:"FormsControls_error__3VyXk",loginError:"FormsControls_loginError__2qVlW"}},414:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"This field is requiered"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},419:function(e,t,a){e.exports={heroBg:"HeroProfile_heroBg__2-qpO",profileIntro:"HeroProfile_profileIntro___cvlu",profileCol1:"HeroProfile_profileCol1__oa9DB",profileCol2:"HeroProfile_profileCol2__3CtHb",statusEditBtn:"HeroProfile_statusEditBtn__1z-p8",customStatusInput:"HeroProfile_customStatusInput__2ByQw",profilePhoto:"HeroProfile_profilePhoto__E8fds",customFileUpload:"HeroProfile_customFileUpload__1zOD9",title:"HeroProfile_title__9VOk4",editBtn:"HeroProfile_editBtn__DnaCe",aboutMe:"HeroProfile_aboutMe__19RPl",socialMedia:"HeroProfile_socialMedia__2WLIf"}},474:function(e,t,a){e.exports={profileForm:"ProfileInfo_profileForm__ZZSqs",customFileUpload:"ProfileInfo_customFileUpload__3JkOV",contacts:"ProfileInfo_contacts__1DW7A"}},475:function(e,t,a){e.exports={myposts:"MyPosts_myposts__2b6t6",item:"MyPosts_item__hxv_e"}},476:function(e,t,a){e.exports={posts:"Post_posts__3srWY"}},477:function(e,t,a){e.exports={friendsPhoto:"sidebar_friendsPhoto__mMfzn"}},478:function(e,t,a){e.exports=a.p+"static/media/banner.31b3e016.jpg"},479:function(e,t,a){e.exports={mainSection:"Profile_mainSection__169gh"}},480:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(6),o=a(11),l=a(12),i=a(1),s=a.n(i),c=a(19),u=a(419),m=a.n(u),f=a(411),p=a(474),d=a.n(p),b=a(412),E=a.n(b),h=a(31),_=a(86),v=a(85),P={fullName:"",aboutMe:"",lookingForAJob:!1,lookingForAJobDescription:"",contacts:{facebook:"",website:"",instagram:"",twitter:"",vk:"",youtube:"",github:"",mainLink:""}},g=function(e){var t=e.profile,a=e.onSubmit,n=e.error;return s.a.createElement(h.c,{initialValues:t||P,enableReinitialize:!0,validationSchema:_.a({fullName:_.b().max(15,"Must be 15 characters or less").required("Required"),aboutMe:_.b().max(50,"Must be 50 characters or less").required("Required"),lookingForAJobDescription:_.b().max(50,"Must be 50 characters or less").required("Required")}),onSubmit:function(e){a(e)}},s.a.createElement(h.b,{className:d.a.profileForm},s.a.createElement(v.b,{label:"Name",name:"fullName",type:"text"}),s.a.createElement(v.b,{label:"About me",name:"aboutMe",type:"text"}),s.a.createElement(v.a,{name:"lookingForAJob"},"Looking for a job"),s.a.createElement(v.b,{label:"Professional Skills",name:"lookingForAJobDescription",type:"text"}),"Social links: ",Object.keys(P.contacts).map((function(e){return s.a.createElement("div",{key:e},e,s.a.createElement(h.a,{name:"contacts[".concat(e,"]"),type:"text"}))})),s.a.createElement("button",{type:"submit"},"Submit"),n&&s.a.createElement("div",{className:E.a.loginError},n)))},k=a(122),O=a(91),S=function(e){var t=e.profile;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("h4",null,"About me"),t.aboutMe),s.a.createElement("div",null,s.a.createElement("b",null,"Looking for a job: ")," ",t.lookingForAJob?"yes":"no"),s.a.createElement("div",null,s.a.createElement("h4",null,"Professional skills "),t.lookingForAJobDescription),s.a.createElement(y,{profile:t}))},y=function(e){var t=e.profile;return s.a.createElement("div",{className:m.a.socialMedia},s.a.createElement("a",{href:t.contacts.github?t.contacts.github:"#",target:"_blank"},s.a.createElement(k.c,null)),s.a.createElement("a",{href:t.contacts.facebook?t.contacts.facebook:"#",target:"_blank"},s.a.createElement(k.b,null)),s.a.createElement("a",{href:t.contacts.twitter?t.contacts.twitter:"#",target:"_blank"},s.a.createElement(k.d,null)),s.a.createElement("a",{href:t.contacts.youtube?t.contacts.youtube:"#",target:"_blank"},s.a.createElement(k.e,null)))},N=function(e){var t=e.profile,a=e.isOwner,n=e.saveProfile,r=Object(i.useState)(!1),o=Object(c.a)(r,2),l=o[0],u=o[1];return s.a.createElement("div",{className:m.a.aboutMe},s.a.createElement("div",{className:m.a.title},"Profile Info",a&&s.a.createElement("button",{className:m.a.editBtn,onClick:function(){return u(!0)}},s.a.createElement(O.c,null))),l?s.a.createElement(g,{profile:t,onSubmit:function(e){n(e).then((function(){u(!1)}))}}):s.a.createElement(S,{profile:t,isOwner:a,onEditMode:function(){u(!0)}}))},F=a(108),j=a(190),w=a(191),x=a(414),I=a(475),M=a.n(I),C=a(476),A=a.n(C),H=function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:A.a.posts},s.a.createElement("img",{src:"https://i.mycdn.me/image?id=838968512981&ts=00000000190000012c&plc=WEB&tkn=*HgeUJJ9phxm9HWqJX7D7VF1zf5Y&fn=sqr_288"}),e.message),s.a.createElement("span",null,"like")," ",e.likescount)},B=Object(x.a)(10),J=Object(w.a)({form:"ProfileAddNewPostForm"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement(j.a,{name:"newPostText",component:f.a,validate:[x.b,B],placeholder:"Add post"})),s.a.createElement("div",null,s.a.createElement("button",null,"Add post")))})),q=s.a.memo((function(e){var t=e.profilePage.posts.map((function(e){return s.a.createElement(H,{message:e.message,likescount:e.likesCount,key:e.id})}));return s.a.createElement("div",{className:M.a.myposts},s.a.createElement("h3",null,"My Posts"),s.a.createElement(J,{onSubmit:function(t){e.addPost(t.newPostText)}}),t)})),D=a(26),z=Object(D.b)((function(e){return{profilePage:e.profilePage}}),{addPost:F.a})(q),U=a(39),V=a(20),W=a(477),R=a.n(W),L=function(e){var t="/dialogs/"+e.id;return s.a.createElement("div",null,s.a.createElement("img",{className:R.a.friendsPhoto,src:e.photo,alt:"ava"}),s.a.createElement("div",null,s.a.createElement(V.c,{to:t},e.name)))},T=function(e){var t=e.dialogsPage.dialogs.map((function(e){return s.a.createElement(L,{name:e.name,key:e.id,id:e.id,photo:e.photo})}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,"Friends"),t)},X=Object(D.b)((function(e){return{dialogsPage:e.dialogsPage}}))(T),Y=a(478),Z=a.n(Y),Q=a(123),G=a.n(Q),K=function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),n=a[0],r=a[1],o=Object(i.useState)(e.status),l=Object(c.a)(o,2),u=l[0],f=l[1];Object(i.useEffect)((function(){f(e.status)}),[e.status]);return s.a.createElement("div",null,!n&&s.a.createElement("div",{className:m.a.profileStatus},s.a.createElement("span",null,e.status||"No Status"),s.a.createElement("button",{className:m.a.statusEditBtn,onClick:function(){e.isOwner&&r(!0)}},s.a.createElement(O.c,null))),n&&s.a.createElement("div",{className:m.a.customStatusInput},s.a.createElement("label",{for:"statusInput"}),s.a.createElement("input",{id:"statusInput",type:"text",onChange:function(e){f(e.currentTarget.value)},autoFocus:!0,onBlur:function(t){r(!1),e.updateStatus(u)},value:u})))},$=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto;return s.a.createElement("section",{className:m.a.profileIntro},s.a.createElement("div",{className:m.a.profileCol1},s.a.createElement("img",{src:t.photos.large||G.a,className:m.a.profilePhoto}),r&&s.a.createElement("label",{htmlFor:"file-upload",className:m.a.customFileUpload},s.a.createElement(O.a,null),s.a.createElement("input",{id:"file-upload",type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}})),s.a.createElement("h2",null,t.fullName)),s.a.createElement("div",{className:m.a.profileCol2},s.a.createElement(K,{status:a,updateStatus:n,isOwner:r})))},ee=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto;e.saveProfile;return s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{className:m.a.heroBg,src:Z.a,alt:"banner"}),s.a.createElement($,{profile:t,status:a,updateStatus:n,isOwner:r,savePhoto:o}))},te=a(76),ae=a(479),ne=a.n(ae),re=function(e){return e.profile?s.a.createElement(s.a.Fragment,null,s.a.createElement(U.a,null),s.a.createElement(ee,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),s.a.createElement("div",{className:ne.a.mainSection},s.a.createElement(N,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),s.a.createElement(z,{store:e.store}),s.a.createElement(X,null))):s.a.createElement(te.a,null)},oe=a(10),le=a(172),ie=a(32),se=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedId),this.props.setProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return s.a.createElement(re,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(s.a.Component);t.default=Object(ie.d)(Object(D.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedId:e.auth.userId,isAuth:e.auth.isAuth}}),{setProfile:F.f,getStatus:F.c,updateStatus:F.g,savePhoto:F.d,saveProfile:F.e}),oe.g,le.a)(se)}}]);
//# sourceMappingURL=4.9a5a680c.chunk.js.map