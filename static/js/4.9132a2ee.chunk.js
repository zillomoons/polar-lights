(this["webpackJsonpreact-polar"]=this["webpackJsonpreact-polar"]||[]).push([[4],{411:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(77),r=a(1),o=a.n(r),l=(a(190),a(412)),s=a.n(l),i=function(e){e.input;var t=e.meta,a=Object(n.a)(e,["input","meta"]),r=t.touched&&t.error;return o.a.createElement("div",{className:r?s.a.error:""},o.a.createElement("div",null,a.children),r&&o.a.createElement("span",null,t.error))},c=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return o.a.createElement(i,e,o.a.createElement("textarea",Object.assign({},t,a)))}},412:function(e,t,a){e.exports={error:"FormsControls_error__3VyXk",loginError:"FormsControls_loginError__2qVlW"}},414:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"This field is requiered"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},419:function(e,t,a){e.exports={heroBg:"HeroProfile_heroBg__2-qpO",profileIntro:"HeroProfile_profileIntro___cvlu",profileCol1:"HeroProfile_profileCol1__oa9DB",profileCol2:"HeroProfile_profileCol2__3CtHb",statusEditBtn:"HeroProfile_statusEditBtn__1z-p8",customStatusInput:"HeroProfile_customStatusInput__2ByQw",profilePhoto:"HeroProfile_profilePhoto__E8fds",customFileUpload:"HeroProfile_customFileUpload__1zOD9",title:"HeroProfile_title__9VOk4",editBtn:"HeroProfile_editBtn__DnaCe",aboutMe:"HeroProfile_aboutMe__19RPl",socialMedia:"HeroProfile_socialMedia__2WLIf"}},474:function(e,t,a){e.exports={customFileUpload:"ProfileInfo_customFileUpload__3JkOV",contacts:"ProfileInfo_contacts__1DW7A"}},475:function(e,t,a){e.exports={myposts:"MyPosts_myposts__2b6t6",item:"MyPosts_item__hxv_e"}},476:function(e,t,a){e.exports={posts:"Post_posts__3srWY"}},477:function(e,t,a){e.exports={friendsPhoto:"sidebar_friendsPhoto__mMfzn"}},478:function(e,t,a){e.exports=a.p+"static/media/banner.31b3e016.jpg"},479:function(e,t,a){e.exports={mainSection:"Profile_mainSection__169gh"}},480:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(6),o=a(11),l=a(12),s=a(1),i=a.n(s),c=a(19),u=a(419),m=a.n(u),f=a(411),p=(a(474),a(412)),d=a.n(p),b=a(31),E=a(86),h=a(85),v={fullName:"",aboutMe:"",lookingForAJob:!1,lookingForAJobDescription:"",contacts:{facebook:"",website:"",instagram:"",twitter:"",vk:"",youtube:"",github:"",mainLink:""}},_=function(e){var t=e.profile,a=e.onSubmit,n=e.error;return i.a.createElement(b.c,{initialValues:t||v,enableReinitialize:!0,validationSchema:E.a({fullName:E.b().max(15,"Must be 15 characters or less").required("Required"),aboutMe:E.b().max(50,"Must be 50 characters or less").required("Required"),lookingForAJobDescription:E.b().max(50,"Must be 50 characters or less").required("Required")}),onSubmit:function(e){a(e)}},i.a.createElement(b.b,null,i.a.createElement(h.b,{label:"Name",name:"fullName",type:"text"}),i.a.createElement(h.b,{label:"About me",name:"aboutMe",type:"text"}),i.a.createElement(h.a,{name:"lookingForAJob"},"Looking for a job"),i.a.createElement(h.b,{label:"Professional Skills",name:"lookingForAJobDescription",type:"text"}),"Social links: ",Object.keys(v.contacts).map((function(e){return i.a.createElement("div",{key:e},e,i.a.createElement(b.a,{name:"contacts[".concat(e,"]"),type:"text"}))})),i.a.createElement("button",{type:"submit"},"Submit"),n&&i.a.createElement("div",{className:d.a.loginError},n)))},P=a(122),g=a(91),k=function(e){var t=e.profile;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("h4",null,"About me"),t.aboutMe),i.a.createElement("div",null,i.a.createElement("b",null,"Looking for a job: ")," ",t.lookingForAJob?"yes":"no"),i.a.createElement("div",null,i.a.createElement("h4",null,"Professional skills "),t.lookingForAJobDescription),i.a.createElement(O,{profile:t}))},O=function(e){var t=e.profile;return i.a.createElement("div",{className:m.a.socialMedia},i.a.createElement("a",{href:t.contacts.github?t.contacts.github:"#",target:"_blank"},i.a.createElement(P.c,null)),i.a.createElement("a",{href:t.contacts.facebook?t.contacts.facebook:"#",target:"_blank"},i.a.createElement(P.b,null)),i.a.createElement("a",{href:t.contacts.twitter?t.contacts.twitter:"#",target:"_blank"},i.a.createElement(P.d,null)),i.a.createElement("a",{href:t.contacts.youtube?t.contacts.youtube:"#",target:"_blank"},i.a.createElement(P.e,null)))},S=function(e){var t=e.profile,a=e.isOwner,n=e.saveProfile,r=Object(s.useState)(!1),o=Object(c.a)(r,2),l=o[0],u=o[1];return i.a.createElement("div",{className:m.a.aboutMe},i.a.createElement("div",{className:m.a.title},"Profile Info",a&&i.a.createElement("button",{className:m.a.editBtn,onClick:function(){return u(!0)}},i.a.createElement(g.c,null))),l?i.a.createElement(_,{profile:t,onSubmit:function(e){n(e).then((function(){u(!1)}))}}):i.a.createElement(k,{profile:t,isOwner:a,onEditMode:function(){u(!0)}}))},y=a(108),N=a(190),j=a(191),F=a(414),w=a(475),x=a.n(w),M=a(476),I=a.n(M),C=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:I.a.posts},i.a.createElement("img",{src:"https://i.mycdn.me/image?id=838968512981&ts=00000000190000012c&plc=WEB&tkn=*HgeUJJ9phxm9HWqJX7D7VF1zf5Y&fn=sqr_288"}),e.message),i.a.createElement("span",null,"like")," ",e.likescount)},A=Object(F.a)(10),H=Object(j.a)({form:"ProfileAddNewPostForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(N.a,{name:"newPostText",component:f.a,validate:[F.b,A],placeholder:"Add post"})),i.a.createElement("div",null,i.a.createElement("button",null,"Add post")))})),B=i.a.memo((function(e){var t=e.profilePage.posts.map((function(e){return i.a.createElement(C,{message:e.message,likescount:e.likesCount,key:e.id})}));return i.a.createElement("div",{className:x.a.myposts},i.a.createElement("h3",null,"My Posts"),i.a.createElement(H,{onSubmit:function(t){e.addPost(t.newPostText)}}),t)})),J=a(26),q=Object(J.b)((function(e){return{profilePage:e.profilePage}}),{addPost:y.a})(B),D=a(39),z=a(20),U=a(477),V=a.n(U),W=function(e){var t="/dialogs/"+e.id;return i.a.createElement("div",null,i.a.createElement("img",{className:V.a.friendsPhoto,src:e.photo,alt:"ava"}),i.a.createElement("div",null,i.a.createElement(z.c,{to:t},e.name)))},R=function(e){var t=e.dialogsPage.dialogs.map((function(e){return i.a.createElement(W,{name:e.name,key:e.id,id:e.id,photo:e.photo})}));return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Friends"),t)},L=Object(J.b)((function(e){return{dialogsPage:e.dialogsPage}}))(R),T=a(478),X=a.n(T),Y=a(123),Q=a.n(Y),G=function(e){var t=Object(s.useState)(!1),a=Object(c.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)(e.status),l=Object(c.a)(o,2),u=l[0],f=l[1];Object(s.useEffect)((function(){f(e.status)}),[e.status]);return i.a.createElement("div",null,!n&&i.a.createElement("div",{className:m.a.profileStatus},i.a.createElement("span",null,e.status||"No Status"),i.a.createElement("button",{className:m.a.statusEditBtn,onClick:function(){e.isOwner&&r(!0)}},i.a.createElement(g.c,null))),n&&i.a.createElement("div",{className:m.a.customStatusInput},i.a.createElement("label",{for:"statusInput"}),i.a.createElement("input",{id:"statusInput",type:"text",onChange:function(e){f(e.currentTarget.value)},autoFocus:!0,onBlur:function(t){r(!1),e.updateStatus(u)},value:u})))},K=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto;return i.a.createElement("section",{className:m.a.profileIntro},i.a.createElement("div",{className:m.a.profileCol1},i.a.createElement("img",{src:t.photos.large||Q.a,className:m.a.profilePhoto}),r&&i.a.createElement("label",{htmlFor:"file-upload",className:m.a.customFileUpload},i.a.createElement(g.a,null),i.a.createElement("input",{id:"file-upload",type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}})),i.a.createElement("h2",null,t.fullName)),i.a.createElement("div",{className:m.a.profileCol2},i.a.createElement(G,{status:a,updateStatus:n,isOwner:r})))},Z=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto;e.saveProfile;return i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{className:m.a.heroBg,src:X.a,alt:"banner"}),i.a.createElement(K,{profile:t,status:a,updateStatus:n,isOwner:r,savePhoto:o}))},$=a(76),ee=a(479),te=a.n(ee),ae=function(e){return e.profile?i.a.createElement(i.a.Fragment,null,i.a.createElement(D.a,null),i.a.createElement(Z,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),i.a.createElement("div",{className:te.a.mainSection},i.a.createElement(S,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),i.a.createElement(q,{store:e.store}),i.a.createElement(L,null))):i.a.createElement($.a,null)},ne=a(10),re=a(172),oe=a(32),le=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedId),this.props.setProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(ae,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(i.a.Component);t.default=Object(oe.d)(Object(J.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedId:e.auth.userId,isAuth:e.auth.isAuth}}),{setProfile:y.f,getStatus:y.c,updateStatus:y.g,savePhoto:y.d,saveProfile:y.e}),ne.g,re.a)(le)}}]);
//# sourceMappingURL=4.9132a2ee.chunk.js.map